<main class="main">
  {% render 'page-header' %}
  {% render 'breadcrumb' %}

  <div class="page-content">
    <div class="container">
      {% paginate blog.articles by section.settings.articles_per_page %}
        <div class="entry-container max-col-2">
          {% for article in blog.articles %}
            <div class="entry-item lifestyle shopping col-sm-6">
              <article class="entry entry-grid text-center">
                <figure class="entry-media">
                  <a href="{{ article.url }}">
                    {% if article.image %}
                      {{ article.image | image_url: width: 1000 | image_tag }}
                    {% else %}
                      {{ 'lifestyle-1' | placeholder_svg_tag }}
                    {% endif %}
                  </a>
                </figure>

                <div class="entry-body">
                  <div class="entry-meta">
                    <span class="entry-author"> by {{ article.author }}</span>
                    <span class="meta-separator">|</span>
                    {{ article.published_at | time_tag: format: 'date' }}
                    <span class="meta-separator">|</span>
                    {% assign comments_count = article.comments_count %}
                    {{ comments_count }}
                    {{ comments_count | pluralize: 'comment', 'comments' }}
                  </div>

                  <h2 class="entry-title">
                    {{ article.title | link_to: article.url }}
                  </h2>

                  <div class="entry-cats">in {{ blog.title }}</div>
                </div>

                {% if article.excerpt.size > 0 %}
                  <p>{{ article.excerpt }}</p>
                {% else %}
                  <p>{{ article.content | strip_html | truncatewords: 20 }}</p>
                {% endif %}
              </article>
            </div>
          {% endfor %}
        </div>

        {{ paginate | default_pagination }}
      {% endpaginate %}
    </div>
  </div>
</main>

{% schema %}
{
  "name": "Blog List",
  "settings": [
    {
      "type": "range",
      "id": "articles_per_page",
      "label": "t:labels.limit",
      "min": 1,
      "max": 7,
      "default": 5
    }
  ]
}
{% endschema %}
