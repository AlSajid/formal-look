{% render 'page-header', page_title: collection.title %}
{% render 'breadcrumb' %}

<div class="page-content">
  <div class="container">
    {% if search.performed %}
      {% if search.results_count == 0 %}
        <p>{{ 'search.no_results_html' | t: terms: search.terms }}</p>
      {% else %}
        <p>{{ 'search.results_for_html' | t: terms: search.terms, count: search.results_count }}</p>

        <div class="products">
          <div class="row my-5">
            {% paginate search.results by section.settings.products_per_page %}
              {% for product in search.results %}
                {% render 'product-card', product: product %}
              {% endfor %}

              <div class="mx-auto">{{ paginate | default_pagination }}</div>
            {% endpaginate %}
          </div>
        </div>
      {% endif %}
    {% endif %}
  </div>
</div>

{% stylesheet %}
  .collection-products {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.collection",
  "settings": [
    {
      "type": "range",
      "id": "products_per_page",
      "label": "t:labels.limit",
      "min": 4,
      "max": 48,
      "step": 4,
      "default": 12
    }
  ]
}
{% endschema %}
